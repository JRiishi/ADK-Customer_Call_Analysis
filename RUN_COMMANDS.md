# Cognivista QA - Run Commands

## Backend Setup (Run in WSL Terminal)

```bash
# 1. Navigate to backend
cd /mnt/c/Users/asus/Downloads/CognivistaQA/ADK-Customer_Call_Analysis/backend

# 2. Activate virtual environment
source venv/bin/activate

# 3. Install any missing dependencies
pip install python-dotenv requests

# 4. Start the backend server
python -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

## Frontend Setup (Run in PowerShell/CMD)

```powershell
# Navigate to frontend
cd C:\Users\asus\Downloads\CognivistaQA\ADK-Customer_Call_Analysis\frontend

# Start the dev server (already running based on your terminals)
npm run dev
```

## Testing the System

1. Open browser: http://localhost:5173
2. Navigate to "Live Assist" (Agent Console)
3. Click "Upload Audio" and select any audio file
4. Wait 2-3 seconds, you'll be redirected to Analysis page
5. The page will show:
   - Sentiment score with trajectory chart
   - SOP Compliance checklist
   - Risk analysis flags
   - All generated by the multi-agent pipeline

## Environment Variables

The backend `.env` file has been configured with:
- MongoDB Atlas connection string
- AWS Bearer Token for Bedrock
- Default AWS region

## How It Works

1. Upload triggers `/api/v1/analysis/upload`
2. Backend creates a call record in MongoDB
3. `LegacyOrchestrator.run_pipeline()` executes:
   - Sentiment Analysis Agent
   - Issue Extraction Agent
   - Classification Agent
   - Priority Scoring (deterministic)
   - Insight Generation Agent
4. Results are saved to MongoDB
5. Frontend fetches and displays the analysis

## If Bedrock API Fails

The system has built-in simulation mode:
- If AWS credentials are invalid or API is unreachable
- Agents run locally with deterministic logic
- Results still appear realistic and functional
- Look for "[Simulation]" in backend logs
